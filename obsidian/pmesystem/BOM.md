# BOM（Bill of Materials）データ構造

## 1. 基本データ構成

### 図面ベース
#### (1) 図面テーブル（Drawings）
- 図面ID（主キー）
- 図面番号
- 図面名称
- 作成日
- 更新日
- ステータス
- バージョン
- 担当者
- 備考

#### (2) 部品テーブル（Parts）
- 部品ID（主キー）
- 部品番号
- 部品名称
- カテゴリ
- 仕様
- 単価
- 単位
- 在庫数
- 最小発注数
- リードタイム
- 仕入先情報
- 備考

#### (3) 部材テーブル（Materials）
- 部材ID（主キー）
- 部材番号
- 部材名称
- 材質
- 寸法
- 単価
- 単位
- 在庫数
- 最小発注数
- リードタイム
- 仕入先情報
- 備考

## 2. 関連テーブル

### (1) 図面-部品関連テーブル（Drawing-Part Relations）
- 関連ID（主キー）
- 図面ID（外部キー）
- 部品ID（外部キー）
- 使用数量
- 配置位置
- 備考

### (2) 部品-部材関連テーブル（Part-Material Relations）
- 関連ID（主キー）
- 部品ID（外部キー）
- 部材ID（外部キー）
- 使用数量
- 加工方法
- 備考

## 3. 補助テーブル

### (1) カテゴリマスタ
- カテゴリID（主キー）
- カテゴリ名称
- 親カテゴリID
- 階層レベル
- 表示順

### (2) 仕入先マスタ
- 仕入先ID（主キー）
- 仕入先コード
- 仕入先名称
- 住所
- 連絡先
- 支払条件
- 備考

## 4. データ管理の注意点

1. バージョン管理
   - 図面の変更履歴を保持
   - 部品・部材の仕様変更履歴を管理

2. 在庫管理
   - 現在の在庫数を常に最新に保つ
   - 最小発注数を下回った場合のアラート機能

3. コスト管理
   - 部品・部材の単価を定期的に更新
   - 総コストの自動計算機能

4. リードタイム管理
   - 発注から納品までの期間を管理
   - 納期遅延のリスク管理

## 5. システム機能

1. 検索機能
   - 図面番号による検索
   - 部品番号による検索
   - 部材番号による検索
   - キーワード検索

2. レポート機能
   - BOMリストの出力
   - 在庫状況レポート
   - コスト集計レポート

3. 承認フロー
   - 図面の承認プロセス
   - 部品・部材の仕様変更承認

4. 通知機能
   - 在庫アラート
   - 納期アラート
   - 承認待ち通知